<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- <link rel="shortcut icon" type="image/x-icon" href="assets/icons/favicon.ico"> -->
    <link rel="icon" type="image/png" href="assets/icons/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="assets/icons/favicon-16x16.png" sizes="16x16" />

    <title>Trelliscope Viewer</title>

    <!-- Bootstrap core CSS -->
    <link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <link href="assets/bootstrap-select/bootstrap-select.css" rel="stylesheet">

    <!-- Custom styles -->
    <link href="assets/custom/custom.css" rel="stylesheet">
  	<link href="assets/icons/style.css" rel="stylesheet">

    <script type="text/javascript" src="assets/jquery/jquery.js" ></script>
    <script type="text/javascript" src="assets/jquery.event.drag/jquery.event.drag-2.2.js" ></script>
    <script type="text/javascript" src="assets/mustache/mustache.js" ></script>
    <script type="text/javascript" src="assets/custom/related-layout.js"></script>
    <!-- <script src="assets/ace/ace.js" type="text/javascript" charset="utf-8"></script> -->
    <script src="assets/svgeezy/svgeezy.min.js"></script>
    <script>
      svgeezy.init(false, 'png');
    </script>
    <script src="assets/spin/spin.js"></script>
    <script src="assets/bootstrap-select/bootstrap-select.js"></script>
    <script src="assets/sizeof/sizeof.js"></script>

    <script type="text/javascript" src="assets/marked/marked.js"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.2.0/katex.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.2.0/katex.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/contrib/auto-render.min.js"></script>

    <script src="assets/d3/d3.min.js"></script>

    <script src="assets/custom/d3footPlot.js"></script>
    <script src="assets/custom/d3uniFilter.js"></script>
    <script src="assets/custom/d3biFilter.js"></script>
    <script src="assets/custom/controls-active-cog.js"></script>
    <script src="assets/custom/controls-related.js"></script>
    <script src="assets/custom/controls-cog-table.js"></script>
    <script src="assets/custom/controls-univar-filter.js"></script>
    <script src="assets/custom/controls-bivar-filter.js"></script>
    <!-- <script src="assets/custom/controls-multivar-filter.js"></script> -->
    <script src="assets/custom/controls-panel-labels.js"></script>
    <script src="assets/custom/controls-panel-layout.js"></script>
    <script src="assets/custom/main.js"></script>

  </head>
  <body>
    <!-- <div id="dummyDiv" class="shiny-text-output"></div> -->
    <div id="control-panel-backdrop" class="bd-hidden"></div>
    <div id="d3tooltip" class="hidden"></div>
    <div id="resolution-alert" class="alert alert-danger alert-dismissable">
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
      Warning: This application was not designed to be used at this window size / resolution.  Either maximize the browser window or use CTRL/CMD + '-' to zoom out.
    </div>
    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="javascript:">Trelliscope Viewer</a>
          <div class="left-icons">
            <ul>
              <span id="headerDisplayNameOutput" class="shiny-text-output"></span>
            </ul>
          </div>
          <div class="center-icons shiny-template-output" id="panelPageNavOutput" data-post-render="panelPageNavOutputPostRender">
          </div>
          <div class="right-icons">
            <ul>
              <!-- <a data-toggle="modal" data-target="#userModal" href="javascript:"><li><i class="icon-user"></i></li></a> -->
              <a id="aboutModalButton" data-toggle="modal" data-target="#aboutModal" href=""><li><i class="icon-info-circle"></i></li></a>
              <a id="openModalButton" data-toggle="modal" data-target="#openModal" href=""><li><i class="icon-folder-open"></i></li></a>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Begin page content -->
    <div class="container">
      <div id="wrapper">
        <div id="sidebar-wrapper">
          <div id="logo">
            <div id="logo-img-div">
              <img id="logo-img" src="assets/images/logo.svg">
            </div>
            <div id="logo-text">Trelliscope</div>
          </div>
          <div class="list-group list-group-sidebar">
            <span class="list-group-header"></span>
            <a href="javascript:" class="list-group-item" data-divlink="display-information" id="display-info-nav-link">
              <i class="icon-file-info"></i>
              <span class="list-group-text"><span class="hotkey">D</span>isplay Information</span>
            </a>
            <a href="javascript:" class="list-group-item active list-group-item-primary list-group-item-short">
            <span class="list-group-header">View Options</span>
            </a>
            <a href="javascript:" class="list-group-item" data-divlink="panel-layout" id="panel-layout-nav-link">
              <i class="icon-th"></i>
              <span class="list-group-text"><span class="hotkey">P</span>anel Layout</span>
            </a>
            <!-- <a href="javascript:" class="list-group-item" data-divlink="panel-function" id="panel-function-nav-link">
              <i class="icon-panel-edit"></i>
              <span class="list-group-text">Panel Function</span>
            </a> -->
            <a href="javascript:" class="list-group-item" data-divlink="panel-labels" id="panel-labels-nav-link">
               <!-- data-action="panelLabelListSetFromExposedState"> -->
              <i class="icon-cog-list"></i>
              <span class="list-group-text">Panel <span class="hotkey">L</span>abels</span>
            </a>
            <a href="javascript:" class="list-group-item last-item" data-divlink="add-related-display" id="add-related-display-nav-link" data-action="showRelatedLayoutControls">
              <i class="icon-plus-square-o"></i>
              <span class="list-group-text">&nbsp;<span class="hotkey">R</span>elated Displays</span>
            </a>
            <a href="javascript:" class="list-group-item active list-group-item-primary list-group-item-short">
              <span class="list-group-header">Cognostics</span>
            </a>
            <a href="javascript:" class="list-group-item" data-divlink="cog-table-sort-filter" id="cog-table-sort-filter-nav-link">
               <!-- data-action="cogTableSetFromExposedState"> -->
              <i class="icon-sort-filter"></i>
              <span class="list-group-text"><span class="hotkey">T</span>able Sort / Filter</span>
            </a>
            <a href="javascript:" class="list-group-item" data-divlink="univar-filter" id="univar-filter-nav-link">
               <!-- data-action="univarFilterSetFromExposedState"> -->
              <i class="icon-bars"></i>
              <span class="list-group-text"><span class="hotkey">U</span>nivariate Filter</span>
            </a>
            <a href="javascript:" class="list-group-item" data-divlink="bivar-filter" id="bivar-filter-nav-link">
               <!-- data-action="bivarFilterSetFromExposedState"> -->
              <i class="icon-stats"></i>
              <span class="list-group-text"><span class="hotkey">B</span>ivariate Filter</span>
            </a>
            <!-- <a href="javascript:" class="list-group-item" data-divlink="multivar-filter" id="multivar-filter-nav-link">
              <i class="icon-multivar"></i>
              <span class="list-group-text"><span class="hotkey"></span><span class="hotkey">M</span>ultivariate Filter</span>
            </a> -->
            <!-- <a href="javascript:" class="list-group-item" data-divlink="sample-panels" id="sample-panels-nav-link">
              <i class="icon-sample"></i>
              <span class="list-group-text">Sample</span>
            </a> -->
            <a href="javascript:" class="list-group-item last-item" data-divlink="active-cog" id="active-cog-nav-link">
               <!-- data-action="cogTableSetFromExposedState"> -->
              <i class="icon-active-cog"></i>
              <span class="list-group-text"><span class="hotkey">A</span>ctive Cognostics</span>
            </a>
          </div>
        </div>
        <div id="display-information"   class="slide-panel panel panel-default"></div>
        <div id="panel-layout"          class="slide-panel panel panel-default"></div>
        <div id="panel-function"        class="slide-panel panel panel-default"></div>
        <div id="panel-labels"          class="slide-panel panel panel-default"></div>
        <div id="add-related-display"   class="slide-panel panel panel-default"></div>
        <div id="active-cog"            class="slide-panel panel panel-default"></div>
        <div id="cog-table-sort-filter" class="slide-panel panel panel-default"></div>
        <div id="univar-filter"         class="slide-panel panel panel-default"></div>
        <div id="bivar-filter"          class="slide-panel panel panel-default"></div>
        <div id="multivar-filter"       class="slide-panel panel panel-default"></div>
        <div id="sample-panels"         class="slide-panel panel panel-default"></div>

        <div class="shiny-template-output" id="panelTableContentOutput" data-post-render="panelTableContentOutputPostRender">
        </div>

        <div class="right-panel">
          <div class="right-sticky">
            <i class="icon-chevron-left" id="sticky-icon"></i>
          </div>
          <div class="right-panel-container">
            <h4>CogMap</h4>
            <div class="cogmap-selectors shiny-template-output" id="cogMapOutput" data-post-render="cogMapOutputPostRender">
            </div>
          </div>
        </div><!-- end right panel -->
      </div>
    </div>

    <div id="footer">
      <div id="filterStateInput" class="shiny-my-data-input"></div>
      <div id="panelLabelStateInput" class="shiny-my-data-input"></div>
      <div id="panelLayoutStateInput" class="shiny-my-data-input"></div>
      <div id="relatedDisplayStateInput" class="shiny-my-data-input"></div>
      <div id="activeCogStateInput" class="shiny-my-data-input"></div>
      <div id="sortStateInput" class="shiny-my-data-input"></div>
      <div id="appHashInput" class="shiny-my-data-input"></div>
      <div id="appHashOutput" class="shiny-apphash-output"></div>
      <div id="exposedStateDataOutput" data-callback="updateControlsExposedState" class="shiny-my-data-output"></div>
      <div id="cogNrow" data-callback="updateCogNrow" class="shiny-my-data-output"></div>
      <div id="panelDimInput" class="shiny-my-data-input"></div>
      <div class="container">
         <div class="pull-left shiny-template-output" id="cogBreadcrumbOutput" data-post-render="cogBreadcrumbOutputPostRender">
         </div>
      </div>
    </div>

  <!-- Modal -->
  <div class="modal fade" id="userModal" tabindex="-1" role="dialog" aria-labelledby="myUModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="icon-times"></i></button>
          <h4 class="modal-title" id="myUModalLabel">Login / Sign Up</h4>
        </div>
        <div class="modal-body">
          Coming soon...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <!-- <button type="button" class="btn btn-primary">Login</button> -->
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="openModal" tabindex="-1" role="dialog" aria-labelledby="myOModalLabel" aria-hidden="true">
    <div id="displayLoadSpinner"></div>
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="icon-times"></i></button>
          <h4 class="modal-title" id="myOModalLabel">Open a Display</h4>
        </div>
        <div class="modal-body">
          <div id="displayListOutput" class="shiny-template-output"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal -->
  <div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="myAModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="myAModalLabel">Trelliscope Viewer</h3>
        </div>
        <div class="modal-body">
          <ul class="nav nav-tabs" role="tablist" id="infoTab">
            <li class="active"><a href="" data-tabname="abouttrelliscope" class="info-tab-label">About</a></li>
            <li><a href="" data-tabname="hotkeys" class="info-tab-label">Hotkeys</a></li>
            <li><a href="" data-tabname="sessionInfo" class="info-tab-label">Session Info</a></li>
            <li><a href="" data-tabname="credits" class="info-tab-label">Credits</a></li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane active" id="abouttrelliscope">
              <h3>What is Trelliscope?</h3>
              <p>Trelliscope is a visualization tool that provides interactive exploration of large collections of plots. Trelliscope enables detailed, flexible visualization of large data sets by partitioning data into subsets, applying a plot method to each subset to create a <em>panel</em>, and then allowing the analyst to interactively view the panels. Interaction is provided by the ability to sort and filter the panels based on metrics computed for each subset that describe behaviors of interest. These metrics are called <em>cognostics</em></p>
              <p>Those familiar with Trellis Display, faceting in ggplot, or Tufte's small multiples can simply think of Trelliscope as a mechanism for scalable, interactive Trellis display.</p>
              <h3>How to use the Trelliscope Viewer</h3>
              <p>In this viewer you will find one or more Trelliscope displays that have been created for you to view. You can click the folder icon in the top right corner (or press "o" on your keyboard) to bring up a list of displays to choose from to open. Click on the display you are interested viewing.</p>
              <p>Once you have opened a display, one or more of the panels of the display will appear on the screen. You can use the control panels on the left to manipulate how the panels are displayed. The "View Options" control panels allow you to specify how many panels are shown in the window at a time, the labels to show underneath each panel, and which (if any) related displays to view concurrently with the current display. The "Cognostics" controlpanels provide several modes of sorting and filtering the panels based on cognostics that have been computed for the display being viewed. Each individual control panel will soon have a help icon you can click to get more information.</p>
            </div>
            <div class="tab-pane" id="credits">
              <h4>Powered by <a href="http://www.rstudio.com/shiny/" target="_blank">Shiny</a> and several other open-source projects</h4>
              <ul>
                <li><a href="http://getbootstrap.com" target="_blank">Twitter bootstrap</a></li>
                <li><a href="http://mustache.github.io" target="_blank">mustache</a></li>
                <li><a href="http://jquery.com" target="_blank">jquery</a></li>
                <li><a href="http://d3js.org" target="_blank">d3.js</a></li>
                <li><a href="http://icomoon.io" target="_blank">icomoon</a></li>
                <li><a href="http://fgnass.github.io/spin.js/" target="_blank">spin.js</a></li>
                <li><a href="http://benhowdle.im/svgeezy/" target="_blank">svgeezy</a></li>
                <li><a href="http://threedubmedia.com/code/event/drag" target=
                "_blank">jquery.event.drag</a></li>
                <li><a href="http://silviomoreto.github.io/bootstrap-select/" target="_blank">bootstrap-select</a></li>
                <li><a href="https://github.com/chjj/marked" target="_blank">marked</a></li>
              </ul>
              <p>Designed and written by <a href="https://github.com/hafen" target="_blank">Ryan Hafen</a> (<a href="https://twitter.com/hafenstats" target="_blank">@hafenstats</a>), with contributions from many others including Iris Blossom, Lisa Bramer, Trenton Pulsipher, Barret Schloerke, Landon Sego, and Amanda White.</p>
              <p>Contribute, browse, report issues, request features on <a href="https://github.com/hafen/trelliscope" target="_blank">github</a>.</p>
              <p>This is part of a larger project, <a href="http://deltarho.org" target="_blank">DeltaRho</a>.</p>
              <p>Click <a href="http://delta-rho.org/docs-trelliscope/" target="_blank">here</a> for a tutorial on how to create Trelliscope displays.</p>
            </div>
            <div class="tab-pane" id="hotkeys">
              <div id="hotkey-container">
                <div id="hotkey-left-column" class="hotkey-column">
                  <h4>Panel navigation</h4>
                  <ul class="hotkey-list">
                    <li><code>left</code>&nbsp;&nbsp; Page back</li>
                    <li><code>right</code>&nbsp;&nbsp; Page forward</li>
                  </ul>
                  <h4>Modal windows</h4>
                  <ul class="hotkey-list">
                    <li><code>o</code> Open "Open New Display" modal</li>
                    <li><code>i</code> Open "Info" modal</li>
                  </ul>
                  <h4>Inside a modal window</h4>
                  <ul class="hotkey-list">
                    <li><code>esc</code> Close modal</li>
                  </ul>
                </div>
                <div id="hotkey-left-column" class="hotkey-column">
                  <h4>Control panels</h4>
                  <ul class="hotkey-list">
                    <li><code>d</code> Open "Display Information"</li>
                    <li><code>p</code> Open "Panel Layout"</li>
                    <li><code>l</code> Open "Panel Labels"</li>
                    <li><code>r</code> Open "Related Displays"</li>
                    <li><code>t</code> Open "Table Sort / Filter"</li>
                    <li><code>u</code> Open "Univariate Filter"</li>
                    <li><code>b</code> Open "Bivariate Filter"</li>
                    <li><code>a</code> Open "Active Cognostics"</li>
                  </ul>
                  <h4>Inside a control panel</h4>
                  <ul class="hotkey-list">
                    <li><code>esc</code> "Cancel" button</li>
                    <li><code>enter</code> "Apply" button</li>
                  </ul>
                </div>
                <div class="clear"></div>
              </div>
            </div>
            <div class="tab-pane" id="sessionInfo">
              <h4>Information from shiny server R session:</h4>
              <pre id="sessionInfoOutput" class="shiny-text-output"></pre>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <div id="related-layout-container" class="rl-layout" style="display: none"></div>
  <div class="related-layout-box rl-layout" id="box0" style="display: none">
    <div><span class="box-group-label"></span> / <span class="box-name-label"></span></div>
    <div class="handle NE"></div>
    <div class="handle NW"></div>
    <div class="handle SW"></div>
    <div class="handle SE"></div>
  </div>
  <div class="related-layout-box rl-layout" id="box1" style="display: none">
    <div><span class="box-group-label"></span> / <span class="box-name-label"></span></div>
    <div class="handle NE"></div>
    <div class="handle NW"></div>
    <div class="handle SW"></div>
    <div class="handle SE"></div>
  </div>
  <div class="related-layout-box rl-layout" id="box2" style="display: none">
    <div><span class="box-group-label"></span> / <span class="box-name-label"></span></div>
    <div class="handle NE"></div>
    <div class="handle NW"></div>
    <div class="handle SW"></div>
    <div class="handle SE"></div>
  </div>
  <div class="related-layout-box rl-layout" id="box3" style="display: none">
    <div><span class="box-group-label"></span> / <span class="box-name-label"></span></div>
    <div class="handle NE"></div>
    <div class="handle NW"></div>
    <div class="handle SW"></div>
    <div class="handle SE"></div>
  </div>
  <div class="related-layout-box rl-layout" id="box4" style="display: none">
    <div><span class="box-group-label"></span> / <span class="box-name-label"></span></div>
    <div class="handle NE"></div>
    <div class="handle NW"></div>
    <div class="handle SW"></div>
    <div class="handle SE"></div>
  </div>
  <div class="related-layout-box rl-layout" id="box5" style="display: none">
    <div><span class="box-group-label"></span> / <span class="box-name-label"></span></div>
    <div class="handle NE"></div>
    <div class="handle NW"></div>
    <div class="handle SW"></div>
    <div class="handle SE"></div>
  </div>

  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
</body>


<!-- master control template -->
<script id="controls-master-template" type="text/html">
  <div class="panel-heading">
    <div class="panel-left">
      <span class="slide-icon">
        <i class="{{icon}}"></i>
      </span>
      <h1>{{panel_header}}</h1>
      <p>{{{panel_description}}}</p>
    </div>
    <div class="panel-right">
      <a href="javascript:" class="btn-panel-close" data-action="{{body_id}}CancelButton">
        <span class="panel-close"><i class="icon-times"></i></span>
      </a>
    </div>
  </div><!--end panel header-->
  <div class="panel-body shiny-template-output" id="{{body_id}}" data-post-render="{{body_id}}PostRender">
  </div>
  <div class="panel-footer">
    <div class="pull-left control-footer">{{footer}}</div>
    <div class="pull-right">
      {{#cancel_button}}
      <button type="button" class="btn btn-default btn-panel-close" data-action="{{body_id}}CancelButton">Cancel</button>
      {{/cancel_button}}
      {{#apply_button}}
      <button type="button" class="btn btn-primary btn-panel-apply" data-action="{{body_id}}ApplyButton">Apply</button>
      {{/apply_button}}
      {{#close_button}}
      <button type="button" class="btn btn-default btn-panel-close" data-action="{{body_id}}CancelButton">Close</button>
      {{/close_button}}
    </div>
  </div>
</script>


<!-- display information template -->
<script id="displayInformationOutput-template" type="text/html">
<div class="panel-body-wrapper panel-body-wrapper-scroll panel-body-wrapper-displayinfo">
  <div id="md-desc">
  {{{md_desc}}}
  </div>
  <h2>Display Attributes</h2>
    <ul>
      {{#attrs}}
      <li><strong>{{name}}</strong>: {{val}}</li>
      {{/attrs}}
    </ul>
  <h2>Cognostics</h2>
    <p>To help you navigate the panels, the following cognostics have been computed:</p>
    <ul>
      {{#cogs}}
      <li><strong>{{name}}</strong>: {{desc}}</li>
      {{/cogs}}
    </ul>
  <h2>Data</h2>
    <p>The input data source is a {{ddo_ddf}}</p>
    <p>One subset of the data looks like this:</p>
    <pre><code>
{{subset}}
    </code></pre>
  <h2>Panel Function</h2>
    The R code that generates each panel ({{panel_pre}}):
    <pre><code>
{{panel}}
    </code></pre>
</div>
</script>


<!-- panel layout template -->
<script id="panelLayoutOutput-template" type="text/html">
<div class="panel-body-wrapper" id="panel-layout-data" data-panel-aspect="{{panel_aspect}}">
  <div class="panel-layout-controls">
    <div class="well">
      <div class="control-group">
        <p class="control-label">Rows</p>
        <div class="controls">
          <input id="panel-rows" type="number" value="{{nrow}}" class="input-small">
        </div>
      </div>
      <div class="control-group">
        <p class="control-label">Columns</p>
        <div class="controls">
          <input id="panel-cols" type="number" value="{{ncol}}" class="input-small">
        </div>
      </div>
    </div>
    <!-- <div class="well">
      <p class="control-label">Fixed Per Page</p>
      <div class="btn-group">
        <button type="button" class="btn btn-default layout-dropdown" disabled>&nbsp;</button>
        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" disabled>
          <span class="caret"></span>
          <span class="sr-only">Toggle Dropdown</span>
        </button>
        <ul class="dropdown-menu" role="menu">
          <li><a href="javascript:">Var1<span class="badge pull-right">42</span></a></a></li>
        </ul>
      </div>
      <p class="control-label">Varies Per Page</p>
      <div class="btn-group">
        <button type="button" class="btn btn-default layout-dropdown" disabled>&nbsp;</button>
        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" disabled>
          <span class="caret"></span>
          <span class="sr-only">Toggle Dropdown</span>
        </button>
        <ul class="dropdown-menu" role="menu">
          <li><a href="javascript:">Var1<span class="badge pull-right">42</span></a></a></li>
        </ul>
      </div>
    </div> -->
    <p class="control-label">Panel Arrangement</p>
    <div id="panel-layout-toggle">
      <div class="btn-group" id="panelArrangement">
        <button type="button" class="btn btn-info pl-toggle active" data-val="row" id="pl-row">By Row</button>
        <button type="button" class="btn btn-default pl-toggle" data-val="col" id="pl-col">By Column</button>
      </div>
    </div>
  </div>
  <div class="panel-layout-preview">
    <div id="panel-layout-preview-pane">preview of arrangement</div>
  </div>
  <div class="clear"></div>
</div>
</script>



<!-- panel function template -->
<!-- <script id="panelFunctionOutput-template" type="text/html">
  <div class="panel-body-wrapper">
    <div id="editor">{{code}}</div>
  </div>
</script> -->


<!-- panel labels template -->
<script id="panelLabelListOutput-template" type="text/html">
<div class="panel-body-wrapper">
  <div class="table-header-div">
  <table class="table table-condensed table-bordered nice-table full-width-table table-header">
    <thead>
      <tr>
        <th>Cognostic</th>
        <th class="select-column">Show</th>
      </tr>
    </thead>
  </table>
  </div>
  <div id="panel-labels-selection" class="table-body-div">
  <table class="table table-condensed table-bordered nice-table full-width-table">
    <tbody>
    {{#cog}}
      {{#.}}
      <tr class="panel-labels-group"><td>{{groupName}}</td><td></td></tr>
        {{#data}}
        <tr>
          <td><strong>{{name}}</strong>: {{desc}}</td>
          <td class="select-column selectable panel-labels-select {{active}}" data-name="{{name}}" id="panel-labels-select-{{name}}"><i class="icon-check {{active}}"></i></td>
        </tr>
        {{/data}}
      {{/.}}
    {{/cog}}
    </tbody>
  </table>
  </div>
</div>
</script>

<!-- related displays template -->
<script id="relatedDisplayListOutput-template" type="text/html">
<div class="panel-body-wrapper">
  <div id="related-table-container">
    <div class="table-header-div">
      <table class="table table-condensed table-bordered nice-table full-width-table table-header">
        <thead>
          <tr>
            <th>Display</th>
            <th class="thumb-column">Thumb</th>
            <th class="select-column">Select</th>
          </tr>
        </thead>
      </table>
    </div>
    <div id="add-related-display-selection" class="table-body-div">
      <table class="table table-condensed table-bordered nice-table full-width-table">
        <tbody>
        {{#displays}}
          <tr>
            <td>
              <strong>
                <span style="color: #39b3d7;">{{group}}</span> /
                <span style="color: #d9534f;">{{name}}</span>
              </strong>: {{desc}}<br/>
              <span style="color: #888;"><em>{{n}} panels, pre-rendered={{preRender}}, data storage={{dataClass}}, updated: {{updated}}</em></span>
            </td>
            <td class="thumb-column"><div style="width:80px; height:60px;">{{{thumb}}}</div></td>
            <td class="select-column related-display-select" data-name="{{name}}" data-group="{{group}}" data-aspect="{{aspect}}" id="related-display-select-{{name}}"><i class="icon-check "></i></td>
          </tr>
          {{/displays}}
        </tbody>
      </table>
    </div>
  </div>
</div>
</script>

<!-- active cognostics template -->
<script id="activeCogListOutput-template" type="text/html">
<div class="panel-body-wrapper">
  <div class="table-header-div">
  <table class="table table-condensed table-bordered nice-table full-width-table table-header">
    <thead>
      <tr>
        <th>Cognostic</th>
        <th class="select-column">Show</th>
      </tr>
    </thead>
  </table>
  </div>
  <div id="active-cog-selection" class="table-body-div">
  <table class="table table-condensed table-bordered nice-table full-width-table">
    <tbody>
    {{#cog}}
      {{#.}}
      <tr class="panel-labels-group"><td>{{groupName}}</td><td></td></tr>
        {{#data}}
        <tr>
          <td><strong>{{name}}</strong>: {{desc}}</td>
          <td class="select-column active-cog-select {{active}} {{selectable}}" data-name="{{name}}" id="active-cog-select-{{name}}"><i class="icon-check {{active}}"></i></td>
        </tr>
        {{/data}}
      {{/.}}
    {{/cog}}
    </tbody>
  </table>
  </div>
</div>
</script>

<!-- cog table sort filter template -->
<script id="cogTableControlsOutput-template" type="text/html">
<div id="cog-table-hideoverflow">
<div id="cog-table-outer">
<div id="cog-table-inner">
<div id="cog-table-inner-inner">
<div id="cog-table-table">
<table cellpadding="0" cellspacing="0" border="0" class="table-condensed table-striped table-bordered nice-table cog-table nowrap" id="cogTable">
  <thead>
  <tr id="cogColumnSortInput" class="shiny-my-data-input">
    {{#cogInfo}}
    <th data-variable="{{name}}" data-type="{{type}}" id="cog-table-th-{{name}}">{{name}}
      <span class="cog-table-sort-span">
        <i id="cog-table-sort-icon-{{name}}" class="icon-unsorted"></i>
      </span>
    </th>
    {{/cogInfo}}
  </tr>
  </thead>
  <tbody id="cogTableContentOutput" class="shiny-template-output" data-post-render="cogTableContentOutputPostRender">
  {{#data}}
  <tr>
    {{#.}}
    <td>{{.}}</td>
    {{/.}}
  </tr>
  {{/data}}
  </tbody>
  <tfoot>
    <tr id="cogColumnFilterInput" class="shiny-my-data-input">
      {{#filter}}
        {{^numeric}}
        <td class="filter-factor" id="cog-filter-td-{{name}}" data-variable="{{name}}" data-type="factor">
        {{/numeric}}
        {{#numeric}}
        <td class="filter-numeric" id="cog-filter-td-{{name}}" data-variable="{{name}}" data-type="numeric">
        {{/numeric}}
          {{^numeric}}
            <input id="text-column-{{name}}" type="text" placeholder="regex" class="form-control column-filter column-filter-regex" spellcheck="false" autocorrect="false"/>
            <select id="text-select-{{name}}" class="selectpicker dropup column-filter column-filter-select {{disabled}}" multiple data-selected-text-format="count>0" data-count-selected-text="{0} of {1}" title="select" data-dropup-auto="false" data-width="auto" data-size="10" {{disabled}}>
              {{#levels}}
              <option>{{.}}</option>
              {{/levels}}
            </select>
          {{/numeric}}
          {{#numeric}}
            <input id="lower-column-{{name}}" type="text" placeholder="From" class="form-control column-filter column-filter-from numbers-only" spellcheck="false" autocorrect="false"/>
            <input id="upper-column-{{name}}" type="text" placeholder="To" class="form-control column-filter column-filter-to numbers-only" spellcheck="false" autocorrect="false"/>
          {{/numeric}}
        </td>
      {{/filter}}
    </tr>
    <tr>
      {{#plotDat}}
      <td id="cog-table-univar-td-{{name}}">
        <div class="cog-table-univar" id="cog-table-univar-{{name}}"></div>
      </td>
      {{/plotDat}}
    </tr>
  </tfoot>
</table>
</div>
<div id="cog-table-under">
  <div id="cogTableInfoOutput" class="pull-left shiny-text-output">{{cogTableInfo}}</div>
  <div class="pull-right" id="cog-table-pagination">
    <ul class="pagination shiny-my-data-input" id="cogTablePaginationInput">
      <li>
        <a href="javascript:" id="cogTablePageStart">
          <i class="icon-step-backward"></i>
        </a>
      </li>
      <li>
        <a href="javascript:" id="cogTablePagePrev">
          <i class="icon-chevron-left"></i>
        </a>
      </li>
      <li>
        <a href="javascript:">
          <span id="cogTableCurPageOutput" class="shiny-text-output">
            {{curPage}}
          </span>
            of
          <span id="cogTableNpagesOutput" class="shiny-text-output">
            {{nPages}}
          </span>
        </a>
      </li>
      <li>
        <a href="javascript:" id="cogTablePageNext">
          <i class="icon-chevron-right"></i>
        </a>
      </li>
      <li><a href="javascript:" id="cogTablePageEnd"><i class="icon-step-forward"></i></a></li>
    </ul>
  </div>
</div>
</div>
<div id="cog-table-var-select">
  <p class="control-label">Columns to show</p>
  <div class="cog-table-var-select-list">
    <ul class="list-group filter-select" id="cog-table-vars">
      {{#cogInfo}}
      <li id="cog-table-col-select-li-{{name}}" class="list-group-item selectable {{active}} nothidden" data-col-index="{{index}}" data-name="{{name}}">
        <span>{{name}}</span>
        <span class="right-icon">
          <i class="icon-filter hidden"></i>
          <i class="icon-sort-numeric-asc hidden"></i>
          <i class="icon-sort-numeric-desc hidden"></i>
          <i class="icon-sort-alpha-asc hidden"></i>
          <i class="icon-sort-alpha-desc hidden"></i>
        </span>
      </li>
      {{/cogInfo}}
    </ul>
  </div>
  <p>
  <!--<button id="btn-cog-table-reset" type="button" class="btn btn-danger" disabled>Reset All</button>-->
  </p>
</div>
</div>
</div>
</div>
</script>

<!-- cog table content template -->
<script id="cogTableContentOutput-template" type="text/html">
{{#.}}
<tr>
  {{#.}}
  <td title="{{.}}">{{.}}</td>
  {{/.}}
</tr>
{{/.}}
</script>

<!-- univariate filter template -->
<script id="cogUniFilterControlsOutput-template" type="text/html">
<div class="panel-body-wrapper">
  <div class="relative-wrapper">
    <div class="vis-filter-controls">
      <p class="control-label">Variable to plot</p>
      <div class="vis-filter-univar" id="univarFilterState">
        <ul class="list-group filter-select shiny-my-data-input" id="univarFilterSelect">
          {{#cogs}}
          <li class="list-group-item" data-name="{{name}}" data-type="{{type}}" data-log="{{log}}" title="{{desc}}" id="univar-var-{{name}}">
            <div class="uni-filter-var-name filter-list-name">{{name}}</div>
            <span class="right-icon"><i class="icon-filter hidden"></i></span></li>
          {{/cogs}}
        </ul>
      </div>
    </div>
    <div class="vis-filter-plot empty-plot shiny-d3-output" id="univarFilterPlot" data-d3-fn="d3univar" data-callback="univarFilterLocalLoad" data-spinner="univarSpinner"></div>
    <div id="univar-dist-toggle">
      <div class="btn-group" id="univarDistType" data-action="updateUnivarPlot">
        <button type="button" class="btn btn-info mc-toggle active" data-dist-type="conditional">Filtered</button>
        <button type="button" class="btn btn-default mc-toggle" data-dist-type="marginal">All</button>
      </div>
    </div>
    <div id="univar-type-toggle">
      <div class="btn-group" id="univarPlotType" data-action="updateUnivarPlot">
        <button type="button" class="btn btn-default mc-toggle quantile-button" disabled>Quantile</button>
        <button type="button" class="btn btn-default mc-toggle histogram-button" disabled>Histogram</button>
        <button type="button" class="btn btn-default mc-toggle bar-button" disabled>Bar</button>
      </div>
    </div>
  </div>
</div>
</script>

<!-- bivariate filter template -->
<script id="cogBiFilterControlsOutput-template" type="text/html">
<div class="panel-body-wrapper">
  <div class="relative-wrapper">
    <div class="vis-filter-controls shiny-my-data-input" id="bivarFilterSelect">
      <div id="bivar-y-select">
        <p class="control-label">y-axis variable</p>
        <div class="vis-filter-bivar" id="bivarFilterState">
          <ul class="list-group filter-select" id="bivar-y-filter-select">
            {{#cogs}}
            <li class="list-group-item" title="{{desc}}" id="bivar-y-{{name}}" data-name="{{name}}" data-log="{{log}}">
              <div class="bi-filter-y-name filter-list-name">{{name}}</div>
              <span class="right-icon"><i class="icon-filter hidden"></i></span></li>
            </li>
            {{/cogs}}
          </ul>
        </div>
      </div>
      <div id="bivar-x-select">
        <p class="control-label">x-axis variable</p>
        <div class="vis-filter-bivar">
          <ul class="list-group filter-select" id="bivar-x-filter-select">
            {{#cogs}}
            <li class="list-group-item" title="{{desc}}" id="bivar-x-{{name}}" data-name="{{name}}" data-log="{{log}}">
              <div class="bi-filter-x-name filter-list-name">{{name}}</div>
              <span class="right-icon"><i class="icon-filter hidden"></i></span></li>
            {{/cogs}}
          </ul>
        </div>
      </div>
    </div>
    <div class="vis-filter-plot empty-plot shiny-d3-output" id="bivarFilterPlot"  data-d3-fn="d3bivar" data-callback="bivarFilterLocalLoad" data-spinner="bivarSpinner"></div>
    <div id="bivar-dist-toggle">
      <div class="btn-group" id="bivarDistType" data-action="updateBivarPlot">
        <button type="button" class="btn btn-info mc-toggle active" data-dist-type="conditional">Filtered</button>
        <button type="button" class="btn btn-default mc-toggle" data-dist-type="marginal">All</button>
      </div>
    </div>
    <div id="bivar-type-toggle">
      <div class="btn-group" id="bivarPlotType" data-action="updateBivarPlot">
        <button id="bivar-scatter-btn" type="button" class="btn btn-info mc-toggle active">Scatter</button>
        <button id="bivar-hexbin-btn" type="button" class="btn btn-default mc-toggle">Hexbin</button>
        <!-- <button type="button" class="btn btn-default mc-toggle" disabled>Map</button> -->
      </div>
    </div>
  </div>
</div>
</script>

<!-- multivariate filter template -->
<script id="cogMultiFilterControlsOutput-template" type="text/html">
<div class="panel-body-wrapper">
  <div class="relative-wrapper">
    <div class="vis-filter-controls">
      <p class="control-label">Variables to project</p>
      <div class="vis-filter-multivar">
        <ul class="list-group filter-select shiny-my-data-input" id="multivarFilterSelect">
          {{#cogs}}
          <li id="multivar-var-{{name}}" class="list-group-item selectable" data-desc="{{desc}}">{{name}}</li>
          {{/cogs}}
        </ul>
      </div>
      <p>
      <button id="btn-multivar" type="button" class="btn btn-primary" disabled>Plot Projection</button>
      </p>
    </div>
    <div class="vis-filter-plot empty-plot shiny-d3-output" id="multivarFilterPlot" data-d3-fn="d3bivar" data-callback="multivarFilterLocalLoad" data-spinner="multivarSpinner"></div>
    <div id="multivar-dist-toggle">
      <div class="btn-group" id="multivarDistType" data-action="updateMultivarPlot">
        <button type="button" class="btn btn-info mc-toggle active" data-dist-type="conditional">Filtered</button>
        <button type="button" class="btn btn-default mc-toggle" data-dist-type="marginal">All</button>
      </div>
    </div>
    <div id="multivar-type-toggle">
      <div class="btn-group" id="multivarPlotType" data-action="updateMultivarPlot">
        <button type="button" class="btn btn-info mc-toggle active">Scatter</button>
        <button type="button" class="btn btn-default mc-toggle">Hexbin</button>
      </div>
    </div>
  </div>
</div>
</script>

<!-- sample panels template -->
<script id="cogSampleControlsOutput-template" type="text/html">
  Coming soon...
</script>

<!-- cog state template -->
<script id="cogBreadcrumbOutput-template" type="text/html">
  <span class="breadcrumb-state-label">State: </span>
  {{#buttons}}
  <div class="btn-group btn-group-xs">
    <button type="button" class="btn {{class}} cog-state-edit" id="cog-state-edit-{{type}}-{{name}}" data-name="{{name}}"><i class="{{icon}}"></i> {{name}}</button>
    <button type="button" class="btn {{class}} cog-state-remove" id="cog-state-remove-{{type}}-{{name}}" data-name="{{name}}">Ã—</button>
  </div>
  {{/buttons}}
</script>

<!-- open display template -->
<script id="displayListOutput-template" type="text/html">
<div class="panel-body-wrapper">
  <div class="table-header-div">
  <table class="table table-condensed table-bordered nice-table full-width-table table-header">
    <thead>
      <tr>
        <th>Display</th>
        <th class="thumb-column">Thumb</th>
      </tr>
    </thead>
  </table>
  </div>
  <div id="displayListOutput-selection" class="table-body-div">
  <table class="table table-condensed table-bordered nice-table full-width-table tr-hover-table">
    <tbody id="displaySelectInput" class="shiny-display-select-input">
    {{#.}}
      <tr data-group="{{group}}" data-name="{{name}}">
        <td>
          <strong>
            <span style="color: #39b3d7;">{{group}}</span> /
            <span style="color: #d9534f;">{{name}}</span>
          </strong>: {{desc}}<br/>
          <span style="color: #888;"><em>{{n}} panels, pre-rendered={{preRender}}, data storage={{dataClass}}, updated: {{updated}}</em></span>
        </td>
        <td class="thumb-column"><div style="width:80px; height:60px;">{{{thumb}}}</div></td>
      </tr>
      {{/.}}
    </tbody>
  </table>
  </div>
</div>
</script>

<script id="panelPageNavOutput-template" type="text/html">
<div class="input-group">
  <input type="text" class="form-control ppp-input" id="curPanelPageInput" type="number" value="1" min="1">
  <div class="input-group-btn">
    <button type="button" class="btn btn-default">/ <span id="panelPageTotOutput" class="shiny-text-output">{{n}}</span></button>
    <button type="button" class="btn btn-default" tabindex="-1" id="pageLeftButton">
      <i class="icon-arrow-left"></i>
    </button>
    <button type="button" class="btn btn-default" tabindex="-1" id="pageRightButton">
      <i class="icon-arrow-right"></i>
    </button>
    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
      <span id="skip-button-value">1x</span> <span class="caret"></span>
      <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" id="skip-button-menu" role="menu" style="min-width:0px; right:0; left:auto;">
    {{#skips}}
      <li><a href="javascript:">{{.}}x</a></li>
    {{/skips}}
    </ul>
  </div>
</div>
</script>

<script id="cogMapOutput-template" type="text/html">
<h5>x-axis</h5>
<select class="form-control cogmap-select">
  <option></option>
  {{#.}}
  <option>{{name}}</option>
  {{/.}}
</select>
<h5>y-axis</h5>
<select class="form-control cogmap-select">
  <option></option>
  {{#.}}
  <option>{{name}}</option>
  {{/.}}
</select>
<p>
  <div class="btn-group">
    <button type="button" class="btn btn-info mc-toggle active">Marginal</button>
    <button type="button" class="btn btn-default mc-toggle">Conditional</button>
  </div><!--end button-->
</p>
<button id="cogmap-submit" class="btn btn-primary">Submit</button>
<div class="cogmap"></div>
</script>

<!-- panel table content template -->
<script id="panelTableContentOutput-template" type="text/html">
<div id="panelTableSpinner"></div>
<table class="panel-table-table" id="panel-table">
  {{#.}}
  <tr>
    {{#.}}
    <td>
      <table class="panel-table-wrapper">
        <tr>
          <td class="display-panel-td" name="{{i}}">
            <div class="panel-image-wrapper">
              <div id="display-panel-table-{{i}}">
                {{{html_wrap_start}}}
                {{#panel_content}}
                  {{{html}}}
                {{/panel_content}}
                {{{html_wrap_end}}}
              </div>
              <!-- <div class="panel-image-download">
                <i class="icon-download"></i>
                <i class="icon-external-link"></i></div> -->
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <table class="table-condensed table-striped panel-cog-table">
              {{#cogs}}
              <tr class="panel-label-row">
                <td class = "cog-name-td">
                  <strong>{{cog_name}}</strong>
                </td>
                <td>
                  <div class="cog-value-td" title="{{{cog_title}}}">{{{cog_value}}}</div>
                </td>
              </tr>
              {{/cogs}}
            </table>
          </td>
        </tr>
      </table>
    </td>
    {{/.}}
  </tr>
  {{/.}}
</table>
</script>

<script id="panel-layout-preview-pane-template" type="text/html">
<table class="panel-layout-preview-table" style="width:{{w}}px; height:{{h}}px">
  {{#rows}}
  <tr>
    {{#.}}
      <td></td>
    {{/.}}
  </tr>
  {{/rows}}
</table>
</script>

<!-- shiny -->
<script src="shared/shiny.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="shared/shiny.css"/>
<script src="assets/custom/shiny-trelliscope-io.js" type="text/javascript"></script>

  </body>
</html>
